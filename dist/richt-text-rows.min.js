const r={richText:".w-richtext[rte-image-rows]",figure:"figure",figcaption:"figcaption"},e={wrapper:"[row]",newWrapper:"[new-row]"},t={wrapper:"rte-image-row"},p=()=>{const r=document.createElement("div");return r.classList.add(t.wrapper),r},a=(r,e)=>{const t=r.textContent.trim();return{text:t,isNewWrapper:t.includes(e.newWrapper),isWrapper:t.includes(e.wrapper),hasMarker:t.includes("[")}},n=(r,e,t)=>{r.textContent=e.replace(t.newWrapper,"").replace(t.wrapper,"").trim()},c=(r,t,c)=>{const{text:i,isNewWrapper:o,isWrapper:u,hasMarker:s}=a(t,e);!o&&u||!c.currentWrapper||(c.currentWrapper=null),u||o||s?((u||o||c.previousMarker)&&(c.currentWrapper||(c.currentWrapper=p(),r.replaceWith(c.currentWrapper)),c.currentWrapper.appendChild(r),n(t,i,e)),c.previousMarker=u||o):c.previousMarker=!1},i=(e,t)=>{const p=e.querySelectorAll(r.figcaption);p.length&&p.forEach((r=>c(e,r,t)))},o=e=>{const t={currentWrapper:null,previousMarker:!1};e.querySelectorAll(r.figure).forEach((r=>i(r,t)))},u=()=>{document.querySelectorAll(r.richText).forEach(o)};document.addEventListener("DOMContentLoaded",u);