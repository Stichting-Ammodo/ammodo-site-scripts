const t={eventItem:".blog2_item",sectionWrapper:".whatons-grid",monthHeader:".whats-on_month-header"},e=()=>{const t=window.location.pathname;return t.startsWith("/en/")||t.startsWith("/nl/")?"EN":"NL"},n=(t,e=0)=>{const n=t.add(e,"month");return{month:n.month(),year:n.year(),formatted:n.format("MMMM")}},o=(t,e,n,o)=>{const r=dayjs().set("month",n).set("year",o).startOf("month"),s=r.endOf("month");return t.isSameOrBefore(s)&&t.isSameOrAfter(r)||e.isSameOrAfter(r)&&e.isSameOrBefore(s)||t.isBefore(r)&&e.isAfter(s)},r=(t,e)=>{const r=dayjs(t.getAttribute("data-start-date")),s=dayjs(t.getAttribute("data-end-date"));if(!r.isValid()||!s.isValid())return null;for(let t=0;t<3;t++){const{month:a,year:h}=n(e,t);if(o(r,s,a,h))return 0===t?"thisMonth":1===t?"nextMonth":"twoMonths"}return"upcoming"},s=(e,o,r=null,s)=>{const a=document.querySelector(`#whats-on--${e}`);if(!a)return;const h=a.querySelector(t.sectionWrapper),i=a.querySelector(t.monthHeader);if(null!==r&&i){const{formatted:t}=n(s,r);i.textContent=t}h&&o.length&&h.append(...o)},a=()=>{dayjs.locale(e().toLowerCase());const n=dayjs();console.log("locale",dayjs.locale());const o={thisMonth:[],nextMonth:[],twoMonths:[],upcoming:[]};document.querySelectorAll(t.eventItem).forEach((t=>{const e=r(t,n);e&&o[e].push(t)})),s("thisMonth",o.thisMonth,0,n),s("nextMonth",o.nextMonth,1,n),s("twoMonths",o.twoMonths,2,n),s("upcoming",o.upcoming)};document.addEventListener("DOMContentLoaded",a);