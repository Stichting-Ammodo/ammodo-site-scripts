const t={eventItem:".blog2_item",sectionWrapper:".whatons-grid",monthHeader:".whats-on_month-header"},e=()=>{const t=window.location.pathname;return t.startsWith("/en/")||t.startsWith("/nl/")?"EN":"NL"},o=(t,e=0)=>{const o=t.add(e,"month");return{month:o.month(),year:o.year(),formatted:o.format("MMMM")}},n=(t,e,o,n)=>{const r=dayjs().set("month",o).set("year",n).startOf("month"),a=r.endOf("month");return t.isSameOrBefore(a)&&t.isSameOrAfter(r)||e.isSameOrAfter(r)&&e.isSameOrBefore(a)||t.isBefore(r)&&e.isAfter(a)},r=(t,e)=>{const r=dayjs(t.getAttribute("data-start-date")),a=dayjs(t.getAttribute("data-end-date"));if(!r.isValid()||!a.isValid())return null;for(let t=0;t<3;t++){const{month:s,year:h}=o(e,t);if(n(r,a,s,h))return 0===t?"thisMonth":1===t?"nextMonth":"twoMonths"}return"upcoming"},a=(e,n,r=null,a)=>{const s=document.querySelector(`#whats-on--${e}`);if(!s)return;const h=s.querySelector(t.sectionWrapper),c=s.querySelector(t.monthHeader);if(null!==r&&c){const{formatted:t}=o(a,r);c.textContent=t}h&&n.length&&h.append(...n)},s=()=>{dayjs.locale(e().toLowerCase());const o=dayjs();console.log("locale",dayjs.locale());const n={thisMonth:[],nextMonth:[],twoMonths:[],upcoming:[]};document.querySelectorAll(t.eventItem).forEach((t=>{const e=r(t,o);e&&n[e].push(t)})),a("thisMonth",n.thisMonth,0,o),a("nextMonth",n.nextMonth,1,o),a("twoMonths",n.twoMonths,2,o),a("upcoming",n.upcoming),document.querySelectorAll(t.monthHeader).forEach((t=>{t.style.opacity=1}))};document.addEventListener("DOMContentLoaded",s);